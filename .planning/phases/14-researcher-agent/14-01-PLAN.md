---
phase: 14-researcher-agent
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [agents/gsd-researcher.md]
autonomous: true

must_haves:
  truths:
    - "Agent has research methodology for Context7, WebSearch, WebFetch"
    - "Agent understands source hierarchy (Context7 > official docs > WebSearch)"
    - "Agent can operate in multiple research modes (ecosystem, feasibility, implementation, comparison)"
    - "Agent produces structured RESEARCH.md output"
  artifacts:
    - path: "agents/gsd-researcher.md"
      provides: "Complete research expertise"
      min_lines: 700
      contains: "<research_methodology>"
  key_links:
    - from: "gsd-researcher.md"
      to: "RESEARCH.md output"
      via: "research_protocol and output_formats sections"
      pattern: "RESEARCH\\.md"
---

<objective>
Create gsd-researcher agent with complete research methodology baked in.

Purpose: Consolidate ~1,600 lines of research expertise (workflows, references, templates) into a dedicated agent that can be spawned by research commands.
Output: `agents/gsd-researcher.md` with research methodology, source hierarchy, verification patterns, and multiple research modes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Source material to consolidate:
@get-shit-done/workflows/research-phase.md
@get-shit-done/workflows/research-project.md
@get-shit-done/references/research-pitfalls.md
@get-shit-done/templates/research.md

# Pattern to follow:
@agents/gsd-debugger.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create gsd-researcher agent</name>
  <files>agents/gsd-researcher.md</files>
  <action>
Create `agents/gsd-researcher.md` following the gsd-debugger pattern. Consolidate research expertise from source files (~1,600 lines) into ~700-900 lines.

**Agent structure (required sections):**

1. **Frontmatter:**
   - name: gsd-researcher
   - description: Researches domains using Context7, WebSearch, and official docs. Spawned by /gsd:research-phase and /gsd:research-project.
   - tools: Read, Write, Bash, Glob, Grep, WebFetch, WebSearch, mcp__context7__*

2. **role:** What the agent does, when spawned, core responsibilities

3. **philosophy:**
   - Research vs intuition (Claude's training is 6-18 months stale)
   - Source hierarchy (Context7 > official docs > WebSearch)
   - Evidence quality (verified vs unverified)
   - Confidence levels (HIGH/MEDIUM/LOW)

4. **research_methodology:**
   - Context7 protocol (resolve-library-id → query-docs)
   - WebFetch protocol (official docs, exact URLs)
   - WebSearch protocol (discovery queries with {current_year})
   - Cross-verification (mandatory for WebSearch findings)

5. **research_modes:**
   - **ecosystem:** Survey landscape (tools, approaches, prior art, standard stack)
   - **feasibility:** Can we do X? What are blockers? What's the effort?
   - **implementation:** How specifically to implement X? Patterns, libraries, code examples
   - **comparison:** Compare options A vs B vs C with tradeoffs

6. **verification_patterns:**
   - Pitfalls checklist (from research-pitfalls.md)
   - Source quality assessment
   - Negative claim verification ("X is not possible" needs official source)
   - Enumeration completeness (all known options investigated)

7. **output_formats:**
   - RESEARCH.md structure (from templates/research.md - condensed)
   - STACK.md, FEATURES.md, ARCHITECTURE.md, PITFALLS.md (for research-project)
   - Confidence markup and source citations

8. **execution_flow:**
   - Mode detection from prompt
   - Context loading (phase description, requirements, PROJECT.md)
   - Domain identification
   - Research execution (by mode)
   - Quality check (pitfalls checklist)
   - Output creation
   - Structured return

9. **structured_returns:**
   - RESEARCH COMPLETE (standard success)
   - RESEARCH INCONCLUSIVE (gaps documented)

10. **success_criteria:** Checklist for complete research

**Content consolidation targets:**
- research-phase.md (~457 lines) → extract methodology, source protocol, output structure
- research-project.md (~426 lines) → extract parallel research patterns, project domain analysis
- research-pitfalls.md (~215 lines) → extract verification checklist, red flags
- templates/research.md (~529 lines) → extract output structure (condensed)

**Target length:** 700-900 lines (from ~1,600 source lines = ~50% reduction)

The agent should be self-contained - spawning it with mode and context should produce quality research output.
  </action>
  <verify>
- File exists at agents/gsd-researcher.md
- Contains all 10 required sections
- Line count is 700-900 lines
- References Context7 MCP tools
- Includes research modes (ecosystem, feasibility, implementation, comparison)
- Includes pitfalls checklist
  </verify>
  <done>gsd-researcher.md created with complete research methodology, all modes, verification patterns</done>
</task>

<task type="auto">
  <name>Task 2: Verify agent completeness</name>
  <files>agents/gsd-researcher.md</files>
  <action>
Read the created agent file and verify:

1. **All sections present:**
   - [ ] Frontmatter with tools
   - [ ] role section
   - [ ] philosophy section
   - [ ] research_methodology section
   - [ ] research_modes section (all 4 modes)
   - [ ] verification_patterns section
   - [ ] output_formats section
   - [ ] execution_flow section
   - [ ] structured_returns section
   - [ ] success_criteria section

2. **Key content verified:**
   - [ ] Context7 protocol documented (resolve-library-id → query-docs)
   - [ ] Source hierarchy documented (Context7 > official > WebSearch)
   - [ ] All 4 research modes documented (ecosystem, feasibility, implementation, comparison)
   - [ ] Pitfalls checklist included
   - [ ] RESEARCH.md output structure defined
   - [ ] Confidence levels explained

3. **No orphaned concepts:**
   - [ ] Nothing references external workflow files for core methodology
   - [ ] Agent is self-contained

If any gaps found, update the agent file.
  </action>
  <verify>All verification points checked, agent is complete and self-contained</verify>
  <done>Agent verified complete with all methodology, modes, and verification patterns</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] agents/gsd-researcher.md exists
- [ ] File is 700-900 lines (consolidated from ~1,600)
- [ ] All 10 required sections present
- [ ] All 4 research modes documented
- [ ] Context7 protocol included
- [ ] Pitfalls checklist integrated
- [ ] Agent follows gsd-debugger structural pattern
</verification>

<success_criteria>

- gsd-researcher.md created with complete research methodology
- All source expertise consolidated (research-phase, research-project, research-pitfalls, templates/research)
- Agent is self-contained (no required external methodology files)
- Follows established agent pattern (like gsd-debugger)
- Ready for command integration in 14-02 and 14-03
</success_criteria>

<output>
After completion, create `.planning/phases/14-researcher-agent/14-01-SUMMARY.md`
</output>
