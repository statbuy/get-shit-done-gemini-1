---
phase: 14-dedicated-researcher-agent
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [agents/gsd-researcher.md]
autonomous: true

must_haves:
  truths:
    - "gsd-researcher agent file exists with complete research methodology"
    - "Agent covers all 4 research modes: ecosystem, feasibility, implementation, comparison"
    - "Agent includes tool strategy (when to use Context7 vs WebSearch vs WebFetch)"
    - "Agent includes source hierarchy and verification requirements"
  artifacts:
    - path: "agents/gsd-researcher.md"
      provides: "Complete research expertise in single agent file"
      min_lines: 600
      contains: "research_modes"
  key_links:
    - from: "agents/gsd-researcher.md"
      to: "research commands"
      via: "spawned by orchestrator"
      pattern: "spawned by.*research"
---

<objective>
Create gsd-researcher agent with all research expertise baked in.

Purpose: Consolidate ~1,200 lines of research methodology (research-phase.md workflow, research-project.md workflow, research-pitfalls.md, research.md template) into a single agent file following the thin orchestrator pattern established in Phase 13.

Output: `agents/gsd-researcher.md` (~800-1000 lines) containing complete research methodology that orchestrators can spawn.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Source material to consolidate:
@get-shit-done/workflows/research-phase.md
@get-shit-done/workflows/research-project.md
@get-shit-done/references/research-pitfalls.md
@get-shit-done/templates/research.md

Pattern reference (Phase 13 agent):
@agents/gsd-debugger.md (first 150 lines for structure pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create gsd-researcher agent file</name>
  <files>agents/gsd-researcher.md</files>
  <action>
Create agents/gsd-researcher.md following the gsd-debugger pattern with these sections:

**Frontmatter:**
```yaml
---
name: gsd-researcher
description: Conducts comprehensive research using systematic methodology, source verification, and structured output. Spawned by /gsd:research-phase and /gsd:research-project orchestrators.
tools: Read, Write, Bash, Grep, Glob, WebSearch, WebFetch, mcp__context7__*
color: cyan
---
```

**Core sections to include:**

1. `<role>` - Research agent identity, what spawns it, core responsibilities

2. `<philosophy>` - Research principles:
   - Source hierarchy (Context7 > Official docs > WebSearch)
   - Verification requirements (cross-reference, confidence levels)
   - Treating Claude's training as hypothesis not fact
   - Honest reporting of gaps and unknowns

3. `<research_modes>` - Four research modes with clear triggers:
   - `ecosystem` — Survey landscape (tools, approaches, prior art)
   - `feasibility` — Can we do X? What are blockers?
   - `implementation` — How specifically to implement X?
   - `comparison` — Compare options A vs B vs C

4. `<tool_strategy>` - When to use each research tool:
   - Context7: First for any library/framework (authoritative, current)
   - Official docs via WebFetch: When Context7 lacks coverage
   - WebSearch: Ecosystem discovery, community patterns, pitfalls
   - Verification protocol: WebSearch findings must be cross-verified

5. `<source_hierarchy>` - Source prioritization:
   - HIGH confidence: Context7, official documentation
   - MEDIUM confidence: WebSearch verified with official source
   - LOW confidence: WebSearch only (flagged for validation)

6. `<verification_protocol>` - From research-pitfalls.md:
   - All known pitfalls (config scope, deprecated features, tool variations, negative claims, etc.)
   - Red flags to watch for
   - Quick reference checklist

7. `<output_formats>` - Templates for research outputs:
   - Phase research (RESEARCH.md structure)
   - Project research (SUMMARY.md, STACK.md, etc.)
   - Comparison matrices
   - Feasibility assessments

8. `<execution_flow>` - How the agent operates:
   - Receive research question/scope from orchestrator
   - Identify research domains
   - Execute research protocol
   - Verify findings
   - Write output file(s)
   - Return structured result

9. `<structured_returns>` - Return format to orchestrator:
   - Research complete with findings summary
   - Confidence assessment
   - Files created
   - Open questions/gaps

10. `<success_criteria>` - When research is complete

Target: 800-1000 lines (consolidation from ~1,200 source lines with 20-30% reduction while preserving all critical concepts)
  </action>
  <verify>
Verify file exists and has required sections:
```bash
wc -l agents/gsd-researcher.md
grep -c "research_modes\|tool_strategy\|source_hierarchy\|verification_protocol\|output_formats" agents/gsd-researcher.md
```
Expected: 600-1000 lines, 5+ section matches
  </verify>
  <done>agents/gsd-researcher.md exists with all 10 required sections, 600-1000 lines</done>
</task>

<task type="auto">
  <name>Task 2: Verify agent completeness</name>
  <files>agents/gsd-researcher.md</files>
  <action>
Read the created agent file and verify:

1. **All research modes documented:**
   - ecosystem mode has clear scope and output
   - feasibility mode has clear scope and output
   - implementation mode has clear scope and output
   - comparison mode has clear scope and output

2. **Tool strategy is actionable:**
   - Context7 usage is explicit (resolve-library-id, query-docs)
   - WebFetch patterns for official docs
   - WebSearch query templates with {current_year}
   - Verification requirements are clear

3. **Pitfalls are preserved:**
   - All pitfalls from research-pitfalls.md included
   - Red flags section present
   - Quick reference checklist included

4. **Output formats match templates:**
   - RESEARCH.md structure matches research.md template
   - Project research structure matches research-project templates

5. **No critical concepts lost:**
   - Source hierarchy preserved
   - Confidence levels system preserved
   - Cross-verification requirements preserved

If any gaps found, edit to add missing content.
  </action>
  <verify>
All 4 research modes documented:
```bash
grep -E "ecosystem|feasibility|implementation|comparison" agents/gsd-researcher.md | wc -l
```
Expected: 4+ matches (mode definitions plus references)
  </verify>
  <done>Agent contains all 4 research modes, complete tool strategy, all pitfalls, and output formats</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] agents/gsd-researcher.md exists
- [ ] File is 600-1000 lines (consolidated from ~1,200)
- [ ] All 10 required sections present
- [ ] 4 research modes defined with triggers and outputs
- [ ] Tool strategy section is actionable
- [ ] Verification protocol includes all pitfalls
- [ ] Output formats match existing templates
</verification>

<success_criteria>
- All tasks completed
- Agent file follows gsd-debugger pattern
- Research methodology consolidated without concept loss
- Ready for orchestrator integration (Plan 14-02)
</success_criteria>

<output>
After completion, create `.planning/phases/14-dedicated-researcher-agent/14-01-SUMMARY.md`
</output>
